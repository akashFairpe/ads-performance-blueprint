@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Whatagraph-inspired Dashboard Design System for Professional Reports */

@layer base {
  :root {
    --background: 220 26% 97%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 217 89% 61%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;

    --accent: 180 78% 45%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 217 89% 61%;

    /* Dashboard-specific color palette */
    --dashboard-primary: 217 89% 61%;
    --dashboard-secondary: 262 80% 65%;
    --dashboard-accent: 142 69% 58%;
    --dashboard-warning: 38 92% 50%;
    --dashboard-error: 0 84% 60%;
    --dashboard-success: 142 71% 45%;
    --dashboard-info: 200 98% 39%;
    --dashboard-purple: 262 83% 58%;
    --dashboard-teal: 173 58% 39%;
    --dashboard-orange: 27 87% 67%;
    
    /* KPI gradients */
    --kpi-gradient-blue: linear-gradient(135deg, hsl(217 89% 61%) 0%, hsl(262 80% 65%) 100%);
    --kpi-gradient-green: linear-gradient(135deg, hsl(142 69% 58%) 0%, hsl(173 58% 39%) 100%);
    --kpi-gradient-orange: linear-gradient(135deg, hsl(38 92% 50%) 0%, hsl(27 87% 67%) 100%);
    --kpi-gradient-purple: linear-gradient(135deg, hsl(262 83% 58%) 0%, hsl(217 89% 61%) 100%);

    /* Chart Colors */
    --chart-primary: 217 89% 61%;
    --chart-secondary: 180 78% 45%;
    --chart-tertiary: 262 83% 58%;
    --chart-quaternary: 142 71% 45%;
    --chart-quinary: 38 92% 50%;

    /* Report Colors */
    --report-header: 215 28% 17%;
    --report-subtext: 215 16% 47%;
    --success: 142 71% 45%;
    --warning: 38 92% 50%;
    --info: 199 89% 48%;

    --radius: 0.75rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, hsl(220 26% 97%) 0%, hsl(210 40% 98%) 100%);
  }

  /* Print optimizations for PDF/Google Docs export */
  @media print {
    body {
      background: white !important;
      font-size: 11px;
      line-height: 1.3;
      -webkit-print-color-adjust: exact;
      color-adjust: exact;
    }
    
    .page-break { page-break-before: always; margin-top: 0; }
    .page-break-avoid { page-break-inside: avoid; break-inside: avoid; }
    .no-print { display: none !important; }
    .print-full-width { width: 100% !important; max-width: none !important; }
    
    h1 { font-size: 18px; margin-bottom: 8px; }
    h2 { font-size: 15px; margin-bottom: 6px; }
    h3 { font-size: 13px; margin-bottom: 4px; }
    
    .dashboard-kpi, .dashboard-card, .campaign-card { 
      margin-bottom: 12px; box-shadow: none !important; 
      border: 1px solid #ddd !important; background: white !important;
    }
    
    .chart-placeholder { border: 2px solid #666 !important; background: #f5f5f5 !important; }
    .dashboard-table { box-shadow: none !important; }
  }
}

@layer components {
  /* Dashboard Layout */
  .dashboard-container {
    @apply min-h-screen;
    background: linear-gradient(135deg, hsl(220 26% 97%) 0%, hsl(210 40% 98%) 100%);
  }

  .dashboard-wrapper {
    @apply max-w-7xl mx-auto p-6 space-y-8;
  }

  /* Whatagraph-style Header */
  .dashboard-header {
    @apply relative bg-white/95 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 shadow-2xl overflow-hidden;
  }

  .dashboard-header::before {
    content: '';
    @apply absolute top-0 left-0 w-full h-2;
    background: linear-gradient(90deg, hsl(217 89% 61%), hsl(262 80% 65%), hsl(173 58% 39%));
  }

  /* KPI Dashboard Grid */
  .kpi-dashboard-grid {
    @apply grid grid-cols-2 md:grid-cols-4 gap-6;
  }

  .dashboard-kpi {
    @apply relative bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 overflow-hidden group;
  }

  .dashboard-kpi::before {
    content: '';
    @apply absolute inset-0 opacity-0 group-hover:opacity-5 transition-opacity duration-300;
  }

  .dashboard-kpi:nth-child(1)::before { background: var(--kpi-gradient-blue); }
  .dashboard-kpi:nth-child(2)::before { background: var(--kpi-gradient-green); }
  .dashboard-kpi:nth-child(3)::before { background: var(--kpi-gradient-orange); }
  .dashboard-kpi:nth-child(4)::before { background: var(--kpi-gradient-purple); }

  .kpi-icon {
    @apply absolute top-4 right-4 text-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-300;
  }

  .kpi-value {
    @apply text-3xl font-bold mb-2 relative z-10;
  }

  .dashboard-kpi:nth-child(1) .kpi-value { 
    background: var(--kpi-gradient-blue);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }
  .dashboard-kpi:nth-child(2) .kpi-value { 
    background: var(--kpi-gradient-green);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }
  .dashboard-kpi:nth-child(3) .kpi-value { 
    background: var(--kpi-gradient-orange);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }
  .dashboard-kpi:nth-child(4) .kpi-value { 
    background: var(--kpi-gradient-purple);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  }

  .kpi-label {
    @apply text-sm font-semibold text-gray-600 uppercase tracking-wider relative z-10;
  }

  .kpi-change {
    @apply text-xs font-medium mt-2 px-2 py-1 rounded-full;
  }

  .kpi-change.positive {
    @apply bg-green-100 text-green-700;
  }

  .kpi-change.negative {
    @apply bg-red-100 text-red-700;
  }

  /* Dashboard Charts */
  .chart-dashboard-grid {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-8;
  }

  .dashboard-chart-card {
    @apply bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300;
  }

  .chart-card-header {
    @apply p-6 border-b border-gray-100/80;
  }

  .chart-card-title {
    @apply text-lg font-bold text-gray-800 mb-2 flex items-center gap-3;
  }

  .chart-card-subtitle {
    @apply text-sm text-gray-600;
  }

  .chart-card-content {
    @apply p-6;
  }

  .whatagraph-chart-placeholder {
    @apply h-64 bg-gradient-to-br from-gray-50 to-blue-50/30 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center transition-all duration-300 hover:border-blue-400 hover:bg-blue-50/50 group;
  }

  .chart-icon-large {
    @apply text-6xl mb-4 text-gray-400 group-hover:text-blue-500 transition-colors duration-300;
  }

  .chart-description {
    @apply text-center space-y-2;
  }

  .chart-main-text {
    @apply text-lg font-semibold text-gray-700 group-hover:text-blue-600 transition-colors duration-300;
  }

  .chart-sub-text {
    @apply text-sm text-gray-500;
  }

  /* Funnel Chart Specific */
  .funnel-chart-placeholder {
    @apply relative h-64 flex flex-col justify-center items-center space-y-4;
  }

  .funnel-stage {
    @apply relative text-center py-3 px-8 text-white font-semibold rounded-lg;
    background: linear-gradient(135deg, hsl(217 89% 61%) 0%, hsl(262 80% 65%) 100%);
  }

  .funnel-stage:nth-child(2) {
    background: linear-gradient(135deg, hsl(142 69% 58%) 0%, hsl(173 58% 39%) 100%);
    @apply w-5/6;
  }

  .funnel-stage:nth-child(3) {
    background: linear-gradient(135deg, hsl(38 92% 50%) 0%, hsl(27 87% 67%) 100%);
    @apply w-4/6;
  }

  /* Pie Chart Placeholder */
  .pie-chart-placeholder {
    @apply flex items-center justify-center h-64;
  }

  .pie-visual {
    @apply w-48 h-48 rounded-full border-8 border-white shadow-lg flex items-center justify-center relative;
    background: conic-gradient(
      hsl(217 89% 61%) 0deg 120deg,
      hsl(142 69% 58%) 120deg 240deg,
      hsl(38 92% 50%) 240deg 360deg
    );
  }

  /* Campaign Cards */
  .campaign-dashboard-grid {
    @apply grid gap-6;
  }

  .dashboard-campaign-card {
    @apply bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden relative;
  }

  .dashboard-campaign-card::before {
    content: '';
    @apply absolute left-0 top-0 w-1 h-full transition-all duration-300;
    background: linear-gradient(135deg, hsl(217 89% 61%) 0%, hsl(262 80% 65%) 100%);
  }

  .dashboard-campaign-card:hover::before {
    @apply w-2;
  }

  .campaign-card-header {
    @apply p-6 border-b border-gray-100/80;
  }

  .campaign-card-content {
    @apply p-6;
  }

  .campaign-metrics-grid {
    @apply grid grid-cols-2 lg:grid-cols-4 gap-4;
  }

  .mini-dashboard-metric {
    @apply text-center p-4 bg-gradient-to-br from-gray-50 to-white border border-gray-200/50 rounded-xl;
  }

  .mini-metric-value {
    @apply text-xl font-bold text-gray-800;
  }

  .mini-metric-label {
    @apply text-xs text-gray-600 mt-1 uppercase tracking-wide;
  }

  .campaign-status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold;
  }

  .status-active {
    @apply bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200;
  }

  .status-paused {
    @apply bg-gradient-to-r from-red-100 to-pink-100 text-red-800 border border-red-200;
  }

  /* Modern Data Table */
  .dashboard-table {
    @apply w-full border-collapse bg-white/90 backdrop-blur-sm rounded-2xl overflow-hidden shadow-lg;
  }

  .dashboard-table th {
    @apply bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 font-bold text-sm p-4 text-left border-b border-gray-200/80;
  }

  .dashboard-table th:first-child { @apply rounded-tl-2xl; }
  .dashboard-table th:last-child { @apply rounded-tr-2xl; }

  .dashboard-table td {
    @apply p-4 border-b border-gray-100/60 text-sm;
  }

  .dashboard-table tr:hover {
    @apply bg-gradient-to-r from-blue-50/50 to-purple-50/30 transition-all duration-200;
  }

  .dashboard-table tbody tr:last-child td:first-child { @apply rounded-bl-2xl; }
  .dashboard-table tbody tr:last-child td:last-child { @apply rounded-br-2xl; }

  /* Enhanced Editable Elements */
  .dashboard-editable-field {
    @apply border-b-2 border-dashed border-transparent hover:border-blue-400 focus:border-blue-500 focus:outline-none focus:bg-blue-50/30 transition-all duration-200 bg-transparent rounded px-2 py-1;
  }

  .dashboard-editable-section {
    @apply bg-gradient-to-br from-amber-50 to-yellow-50 border-l-4 border-amber-400 rounded-r-2xl p-6 shadow-md;
  }

  .dashboard-editable-content {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-300 focus:bg-white/80 rounded-lg p-4 transition-all duration-200 min-h-[120px] border border-transparent hover:border-gray-200 bg-white/50;
  }

  /* Summary Cards */
  .summary-dashboard-grid {
    @apply grid md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  .dashboard-summary-card {
    @apply bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden;
  }

  .dashboard-summary-card::before {
    content: '';
    @apply absolute top-0 left-0 w-full h-1;
    background: linear-gradient(90deg, hsl(217 89% 61%), hsl(262 80% 65%), hsl(173 58% 39%));
  }

  .summary-card-title {
    @apply text-lg font-bold text-gray-800 mb-4 flex items-center gap-3;
  }

  .summary-card-list {
    @apply space-y-3;
  }

  .summary-card-item {
    @apply flex items-start gap-3 text-sm p-3 bg-gray-50/80 rounded-lg hover:bg-gray-100/80 transition-colors duration-200;
  }

  .summary-bullet {
    @apply w-2 h-2 rounded-full mt-2 flex-shrink-0;
    background: linear-gradient(135deg, hsl(217 89% 61%), hsl(262 80% 65%));
  }

  .action-dashboard-card {
    @apply bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-6 shadow-lg;
  }

  /* Color utilities */
  .text-dashboard-primary { color: hsl(var(--dashboard-primary)); }
  .text-dashboard-secondary { color: hsl(var(--dashboard-secondary)); }
  .text-dashboard-accent { color: hsl(var(--dashboard-accent)); }
  .text-dashboard-warning { color: hsl(var(--dashboard-warning)); }
  .text-dashboard-error { color: hsl(var(--dashboard-error)); }
  .text-dashboard-success { color: hsl(var(--dashboard-success)); }
  .text-dashboard-info { color: hsl(var(--dashboard-info)); }
  .text-dashboard-purple { color: hsl(var(--dashboard-purple)); }
  .text-dashboard-teal { color: hsl(var(--dashboard-teal)); }

  /* Legacy support for existing classes */
  .report-card {
    @apply dashboard-chart-card;
  }
  
  .metric-card {
    @apply dashboard-kpi;
  }
  
  .data-table {
    @apply dashboard-table;
  }
  
  .chart-placeholder {
    @apply whatagraph-chart-placeholder;
  }
  
  .editable-content {
    @apply dashboard-editable-content;
  }

  .editable-header {
    @apply dashboard-editable-field;
  }

  .brand-color-picker {
    @apply w-10 h-10 rounded-lg border-2 border-gray-300 cursor-pointer hover:scale-105 transition-transform duration-200 shadow-md;
  }

  /* Interactive enhancements */
  .interactive-hover {
    @apply hover:scale-[1.02] transition-transform duration-200;
  }

  .glow-effect {
    @apply hover:shadow-xl hover:shadow-blue-500/25 transition-shadow duration-300;
  }
}